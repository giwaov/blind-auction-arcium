(()=>{"use strict";var a,b,c,d,e,f={2320:(a,b,c)=>{c.a(a,async(a,b)=>{try{async function d(){return await c.e(818).then(c.bind(c,7818))}let a=Object.freeze({INIT:"init",CALL_METHOD:"callMethod"}),g=Object.freeze({CREATE_CLIENT:"createClient",NEW_WALLET:"newWallet",NEW_FAUCET:"newFaucet",EXECUTE_TRANSACTION:"executeTransaction",PROVE_TRANSACTION:"proveTransaction",SUBMIT_NEW_TRANSACTION:"submitNewTransaction",SUBMIT_NEW_TRANSACTION_MOCK:"submitNewTransactionMock",SYNC_STATE:"syncState",SYNC_STATE_MOCK:"syncStateMock"}),h=await d(),i=null,j=null,k=!1,l=[],m=!1,n={[g.NEW_WALLET]:async a=>{let[b,c,d,e]=a,f=h.AccountStorageMode.tryFromStr(b);return(await i.newWallet(f,c,d,e)).serialize().buffer},[g.NEW_FAUCET]:async a=>{let[b,c,d,e,f,g]=a,j=h.AccountStorageMode.tryFromStr(b),k=BigInt(f);return(await i.newFaucet(j,c,d,e,k,g)).serialize().buffer},[g.SYNC_STATE]:async()=>(await i.syncState()).serialize().buffer,[g.EXECUTE_TRANSACTION]:async a=>{let[b,c]=a,d=h.AccountId.fromHex(b),e=new Uint8Array(c),f=h.TransactionRequest.deserialize(e);return(await i.executeTransaction(d,f)).serialize().buffer},[g.PROVE_TRANSACTION]:async a=>{let b,[c,d]=a,e=new Uint8Array(c),f=h.TransactionResult.deserialize(e);if(d)if("local"===d)b=h.TransactionProver.newLocalProver();else if(d.startsWith("remote:")){let a=d.slice(7);if(!a)throw Error("Remote prover requires an endpoint");b=h.TransactionProver.newRemoteProver(a)}else throw Error("Invalid prover tag received in worker");return(await i.proveTransaction(f,b)).serialize().buffer},[g.SUBMIT_NEW_TRANSACTION]:async a=>{let[b,c]=a,d=h.AccountId.fromHex(b),e=new Uint8Array(c),f=h.TransactionRequest.deserialize(e),g=await i.executeTransaction(d,f),j=g.id().toHex(),k=await i.proveTransaction(g),l=await i.submitProvenTransaction(k,g),m=await i.applyTransaction(g,l);return{transactionId:j,submissionHeight:l,serializedTransactionResult:g.serialize().buffer,serializedTransactionUpdate:m.serialize().buffer}}};async function e(b){let{action:c,args:d,methodName:e,requestId:f}=b.data;try{if(c===a.INIT){let[a,b,c]=d;i=new h.WebClient,await i.createClient(a,b,c),j=c,k=!0,self.postMessage({ready:!0});return}if(c===a.CALL_METHOD){if(!k)throw Error("Worker is not ready. Please initialize first.");if(!i)throw Error("WebClient not initialized in worker.");let a=n[e];if(!a)throw Error(`Unsupported method: ${e}`);let b=await a(d);self.postMessage({requestId:f,result:b});return}throw Error(`Unsupported action: ${c}`)}catch(a){console.error(`WORKER: Error occurred - ${a}`),self.postMessage({requestId:f,error:a})}}async function f(){if(m||0===l.length)return;m=!0;let a=l.shift();try{await e(a)}finally{m=!1,f()}}n[g.SYNC_STATE_MOCK]=async a=>{let[b,c]=a;return b=new Uint8Array(b),c=c?new Uint8Array(c):null,await i.createMockClient(j,b,c),await n[g.SYNC_STATE]()},n[g.SUBMIT_NEW_TRANSACTION_MOCK]=async a=>{let b=a.pop(),c=a.pop();c=new Uint8Array(c),b=b?new Uint8Array(b):null,i=new h.WebClient,await i.createMockClient(j,c,b);let d=await n[g.SUBMIT_NEW_TRANSACTION](a);return{transactionId:d.transactionId,submissionHeight:d.submissionHeight,serializedTransactionResult:d.serializedTransactionResult,serializedTransactionUpdate:d.serializedTransactionUpdate,serializedMockChain:i.serializeMockChain().buffer,serializedMockNoteTransportNode:i.serializeMockNoteTransportNode().buffer}},self.onmessage=a=>{l.push(a),f()},self.postMessage({loaded:!0}),b()}catch(a){b(a)}},1)}},g={};function h(a){var b=g[a];if(void 0!==b)return b.exports;var c=g[a]={exports:{}},d=!0;try{f[a](c,c.exports,h),d=!1}finally{d&&delete g[a]}return c.exports}h.m=f,a="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",b="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",c="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",d=a=>{a&&a.d<1&&(a.d=1,a.forEach(a=>a.r--),a.forEach(a=>a.r--?a.r++:a()))},h.a=(e,f,g)=>{g&&((h=[]).d=-1);var h,i,j,k,l=new Set,m=e.exports,n=new Promise((a,b)=>{k=b,j=a});n[b]=m,n[a]=a=>(h&&a(h),l.forEach(a),n.catch(a=>{})),e.exports=n,f(e=>{i=e.map(e=>{if(null!==e&&"object"==typeof e){if(e[a])return e;if(e.then){var f=[];f.d=0,e.then(a=>{g[b]=a,d(f)},a=>{g[c]=a,d(f)});var g={};return g[a]=a=>a(f),g}}var h={};return h[a]=a=>{},h[b]=e,h});var f,g=()=>i.map(a=>{if(a[c])throw a[c];return a[b]}),j=new Promise(b=>{(f=()=>b(g)).r=0;var c=a=>a!==h&&!l.has(a)&&(l.add(a),a&&!a.d&&(f.r++,a.push(f)));i.map(b=>b[a](c))});return f.r?j:g()},a=>(a?k(n[c]=a):j(m),d(h))),h&&h.d<0&&(h.d=0)},h.d=(a,b)=>{for(var c in b)h.o(b,c)&&!h.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:b[c]})},h.f={},h.e=a=>Promise.all(Object.keys(h.f).reduce((b,c)=>(h.f[c](a,b),b),[])),h.u=a=>""+a+".js",h.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),h.r=a=>{"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},h.U=function(a){var b=new URL(a,"x:/"),c={};for(var d in b)c[d]=b[d];for(var d in c.href=a,c.pathname=a.replace(/[?#].*/,""),c.origin=c.protocol="",c.toString=c.toJSON=()=>a,c)Object.defineProperty(this,d,{enumerable:!0,configurable:!0,value:c[d]})},h.U.prototype=URL.prototype,h.p="/_next/",e={320:1},h.f.require=(a,b)=>{e[a]||(a=>{var b=a.modules,c=a.ids,d=a.runtime;for(var f in b)h.o(b,f)&&(h.m[f]=b[f]);d&&d(h);for(var g=0;g<c.length;g++)e[c[g]]=1})(require("./"+h.u(a)))};var i=h(2320);module.exports=i})();